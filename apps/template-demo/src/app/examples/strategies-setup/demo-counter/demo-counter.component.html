<mat-card-title>Counter #{{ index }}</mat-card-title>

<span>renders: {{ detectedChanges() }}</span>
<select (change)="changeStrategy($event.target.value)" class="block">
  <option
    [value]="s"
    [selected]="s === currentStrategy"
    *ngFor="let s of strategies"
    >{{ s }}</option
  >
</select>
<ng-container
  *ngIf="currentStrategy === 'global' || currentStrategy === 'noop'"
>
  <button mat-button (click)="increment()" color="primary">
    Increment {{ currentStrategy }}
  </button>
</ng-container>
<ng-container
  *ngIf="currentStrategy !== 'global' && currentStrategy !== 'noop'"
>
  <button mat-button (click)="increment()" color="primary" [unpatch]>
    Increment {{ currentStrategy }} [UNPATCH]
  </button>
</ng-container>
<mat-card>
  <mat-card-title>{{ counter$ | push }}</mat-card-title>
</mat-card>
